<!-- Backdrop styles come from global styles. Backdrop causes the form to be displayed on top of other components -->
<div class="backdrop" (click)="changeVisibility()">
	<div class="bg" (click)="$event.stopPropagation()">
		<div class="glassbox">
			<!-- Button to close the edit-window -->
			<div class="close-button" (click)="changeVisibility()">
				<img
					class="close-icon"
					src="assets\icons\close.svg"
					alt="close-button"
				/>
			</div>

			<h2>Rekisteröidy palvelun käyttäjäksi</h2>
			<div class="container">
				<div class="leftContent">
					<form #f="ngForm" (click)="$event.stopPropagation()">
						<!-- Input for email -->
						<label>
							Sähköposti *
							<input
								type="text"
								required
								minlength="2"
								maxlength="45"
								name="email"
								[(ngModel)]="email"
							/>
						</label>

						<!-- Input for password -->
						<label>
							Salasana *
							<input
								[ngClass]="{errorinput: pwError}"
								type="password"
								required
								minlength="2"
								maxlength="45"
								name="password"
								[(ngModel)]="password"
							/>
						</label>

						<p class="error" *ngIf="pwError">
							Salasanat eivät vastaa toisiaan
						</p>

						<!-- Input for password confirmation -->
						<label>
							Salasana uudelleen *
							<input
								[ngClass]="{errorinput: pwError}"
								type="password"
								required
								minlength="2"
								maxlength="45"
								name="passwordconfirm"
								[(ngModel)]="passwordconfirm"
							/>
						</label>
						<p class="error" *ngIf="pwError">
							Salasanat eivät vastaa toisiaan
						</p>
					</form>
				</div>
				<div class="rightContent">
					<p class="help">
						Syötä ammattikorkeakoulusi opiskelija- sähköpostiosoite,
						johon lähetämme vahvistuskoodin.
					</p>
					<div>
						<p *ngIf="registerError" class="error">
							Virhe rekisteröinnissä.
						</p>

						<div class="btnandtxt">
							<button
								[disabled]="!f.valid"
								(click)="onSubmit(f.value)"
								type="submit"
								class="greenbutton"
							>
								Rekisteröidy
							</button>
							<div>
								<p class="login">
									Onko sinulla jo tili?<br />
									Kirjaudu sisään tästä
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
